---
// src/components/Footer.astro
import { Image } from "astro:assets";
import logoWhite from "../../assets/logo-white.svg";
import logoDark from "../../assets/logo-dark.svg"; // Asegúrate de tener este asset o usar el white con filtro
import SocialIcon from "../ui/SocialIcon.astro";
import Newsletter from "../sections/Newsletter.astro"; // Importamos la Newsletter para inyectarla antes del footer real

const currentYear = new Date().getFullYear();

const socialLinks = [
  { name: "Facebook", href: "https://facebook.com", aria: "Visitar Facebook" },
  {
    name: "Instagram",
    href: "https://instagram.com",
    aria: "Visitar Instagram",
  },
  { name: "X", href: "https://twitter.com", aria: "Visitar X (Twitter)" },
];

const footerLinks = [
  {
    title: "Catálogo",
    links: [
      { label: "Planes Personales", href: "/personas" },
      { label: "Soluciones Empresariales", href: "/empresas" },
      { label: "Equipos 5G", href: "/equipos" },
      { label: "Internet en Casa", href: "/internet" },
    ],
  },
  {
    title: "Compañía",
    links: [
      { label: "Sobre Nosotros", href: "/nosotros" },
      { label: "Quiero ser Distribuidor", href: "/asociados" },
      { label: "Sucursales", href: "/#sucursales" }, // Anchor link al mapa
      { label: "Bolsa de Trabajo", href: "/empleo" },
    ],
  },
  {
    title: "Ayuda",
    links: [
      { label: "Centro de Soporte", href: "/contacto" },
      { label: "Facturación", href: "https://facturacion.telcel.com" }, // External Link real útil
      { label: "Aviso de Privacidad", href: "/privacidad" },
      { label: "Términos de Uso", href: "/terminos" },
    ],
  },
];
---

<!-- Wrapper principal: Newsletter + Footer -->
<div class="flex flex-col w-full">
  <!-- 1. NEWSLETTER SECTION -->
  <!-- Integrada visualmente antes del footer -->
  <Newsletter />

  <!-- 2. MAIN FOOTER -->
  <!-- 
      Estrategia de Color:
      - Light: bg-white (Limpio, contraste máximo)
      - Dark: bg-[#0B1120] (Mismo tono base Deep Navy para continuidad, con borde sutil)
    -->
  <footer
    class="relative w-full border-t border-slate-200 dark:border-white/10 pt-16 pb-8 transition-colors duration-500"
  >
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div
        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-12 lg:gap-8 mb-16"
      >
        <!-- BRAND BRANDING (4 cols) -->
        <div class="lg:col-span-4 space-y-8">
          <a href="/" class="block transition-opacity hover:opacity-80">
            <span class="sr-only">Línea Digital Inicio</span>
            <!-- Logo Handling: Dark mode usa logo blanco, Light mode usa logo oscuro -->
            <Image
              src={logoDark}
              alt="Línea Digital"
              class="h-10 w-auto dark:hidden"
            />
            <Image
              src={logoWhite}
              alt="Línea Digital"
              class="h-10 w-auto hidden dark:block"
            />
          </a>

          <p
            class="text-sm leading-relaxed text-slate-500 dark:text-slate-400 max-w-sm"
          >
            Somos tu enlace directo a la red más grande de México. <br />
            Innovación, confianza y servicio personalizado para conectar lo que más
            importa.
          </p>

          <!-- Social Icons (Interactive) -->
          <div class="flex gap-4">
            {
              socialLinks.map((social) => (
                <a
                  href={social.href}
                  target="_blank"
                  rel="noreferrer"
                  aria-label={social.aria}
                  class="flex h-10 w-10 items-center justify-center rounded-full bg-slate-100 dark:bg-white/5 text-slate-500 dark:text-slate-400 transition-all duration-300 hover:bg-blue-600 hover:text-white dark:hover:bg-blue-500 hover:-translate-y-1 hover:shadow-lg hover:shadow-blue-500/30"
                >
                  <SocialIcon name={social.name} size="sm" />
                </a>
              ))
            }
          </div>
        </div>

        <!-- LINKS NAVIGATION (2 cols each group) -->
        <!-- Usamos col-span-2 para espaciado generoso -->
        <div
          class="md:col-span-2 lg:col-span-8 grid grid-cols-2 sm:grid-cols-3 gap-8"
        >
          {
            footerLinks.map((column) => (
              <div>
                <h3 class="text-sm font-bold uppercase tracking-wider text-slate-900 dark:text-white mb-6">
                  {column.title}
                </h3>
                <ul role="list" class="space-y-4">
                  {column.links.map((link) => (
                    <li>
                      <a
                        href={link.href}
                        class="text-sm text-slate-600 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors flex items-center group"
                      >
                        <span class="w-0 overflow-hidden group-hover:w-2 transition-all duration-300 mr-0 group-hover:mr-1 opacity-0 group-hover:opacity-100 text-blue-500">
                          ›
                        </span>
                        {link.label}
                      </a>
                    </li>
                  ))}
                </ul>
              </div>
            ))
          }
        </div>
      </div>

      <!-- CONTACT STRIP (Highlighted) -->
      <div
        class="border-t border-b border-slate-100 dark:border-white/5 py-8 mb-8"
      >
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- Phone -->
          <div class="flex items-center gap-4">
            <div
              class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"
            >
              <svg
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                ><path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                ></path></svg
              >
            </div>
            <div>
              <p class="text-xs font-bold text-slate-400 uppercase">Llámanos</p>
              <a
                href="tel:9616189200"
                class="text-sm font-semibold text-slate-900 dark:text-white hover:text-blue-600"
                >961 618 92 00</a
              >
            </div>
          </div>

          <!-- Email -->
          <div class="flex items-center gap-4">
            <div
              class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"
            >
              <svg
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                ><path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                ></path></svg
              >
            </div>
            <div>
              <p class="text-xs font-bold text-slate-400 uppercase">
                Escríbenos
              </p>
              <a
                href="mailto:ventas@linea-digital.com"
                class="text-sm font-semibold text-slate-900 dark:text-white hover:text-blue-600"
                >ventas@linea-digital.com</a
              >
            </div>
          </div>

          <!-- Location -->
          <div class="flex items-center gap-4">
            <div
              class="flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"
            >
              <svg
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                ><path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                ></path><path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg
              >
            </div>
            <div>
              <p class="text-xs font-bold text-slate-400 uppercase">Matriz</p>
              <span class="text-sm font-semibold text-slate-900 dark:text-white"
                >Tuxtla Gutiérrez, Chiapas</span
              >
            </div>
          </div>
        </div>
      </div>

      <!-- COPYRIGHT & LEGAL -->
      <div
        class="flex flex-col md:flex-row items-center justify-between gap-4 pt-4"
      >
        <p
          class="text-xs text-slate-500 dark:text-slate-400 text-center md:text-left"
        >
          &copy; {currentYear} Grupo Línea Digital S.A. de C.V. <span
            class="hidden sm:inline">|</span
          > Distribuidor Autorizado Telcel.
        </p>

        <!-- Badges de Seguridad/Confianza (Visuales) -->
        <div
          class="flex items-center gap-4 opacity-70 grayscale hover:grayscale-0 transition-all"
        >
          <!-- Aquí podrías poner iconos de Visa/Mastercard/SSL si vendieras online directo -->
          <span class="text-xs text-slate-400 font-medium"
            >Sitio Seguro SSL</span
          >
        </div>
      </div>
    </div>
  </footer>
</div>
